{"cells":[{"cell_type":"markdown","source":["# PreRequisites (사전 준비)"],"metadata":{"id":"Nr4stfNdp7ks"}},{"cell_type":"code","execution_count":3,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2969,"status":"ok","timestamp":1642645183373,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"},"user_tz":-540},"id":"y9VImeMnKxZy","outputId":"dc4b68e5-ed96-44ae-a750-c0007260794c"},"outputs":[{"output_type":"stream","name":"stdout","text":["Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(\"/content/drive\", force_remount=True).\n"]}],"source":["from google.colab import drive\n","drive.mount('/content/drive')"]},{"cell_type":"code","execution_count":4,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":467,"status":"ok","timestamp":1642645183796,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"},"user_tz":-540},"id":"fo7wwEAZLRgX","outputId":"7dd4ef0d-ff3a-428b-f01b-91bd6bcbd4d3"},"outputs":[{"output_type":"stream","name":"stdout","text":["/content/drive/MyDrive/NLTK\n","/content/drive/MyDrive/NLTK\n"]}],"source":["%cd /content/drive/MyDrive/NLTK/\n","!pwd"]},{"cell_type":"code","execution_count":5,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3153,"status":"ok","timestamp":1642645186941,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"},"user_tz":-540},"id":"MxKeOP3qnQDi","outputId":"47ab1f35-7c14-495b-86b5-6e53b0352b13"},"outputs":[{"output_type":"stream","name":"stdout","text":["Collecting sentencepiece\n","  Downloading sentencepiece-0.1.96-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.2 MB)\n","\u001b[?25l\r\u001b[K     |▎                               | 10 kB 25.3 MB/s eta 0:00:01\r\u001b[K     |▌                               | 20 kB 31.0 MB/s eta 0:00:01\r\u001b[K     |▉                               | 30 kB 36.7 MB/s eta 0:00:01\r\u001b[K     |█                               | 40 kB 16.9 MB/s eta 0:00:01\r\u001b[K     |█▍                              | 51 kB 7.0 MB/s eta 0:00:01\r\u001b[K     |█▋                              | 61 kB 6.8 MB/s eta 0:00:01\r\u001b[K     |██                              | 71 kB 6.0 MB/s eta 0:00:01\r\u001b[K     |██▏                             | 81 kB 6.7 MB/s eta 0:00:01\r\u001b[K     |██▍                             | 92 kB 5.3 MB/s eta 0:00:01\r\u001b[K     |██▊                             | 102 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███                             | 112 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███▎                            | 122 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███▌                            | 133 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███▉                            | 143 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████                            | 153 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████▎                           | 163 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████▋                           | 174 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████▉                           | 184 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████▏                          | 194 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████▍                          | 204 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████▊                          | 215 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████                          | 225 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████▏                         | 235 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████▌                         | 245 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████▊                         | 256 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████                         | 266 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████▎                        | 276 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████▋                        | 286 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████▉                        | 296 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████                        | 307 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████▍                       | 317 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████▋                       | 327 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████                       | 337 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████▏                      | 348 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████▌                      | 358 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████▊                      | 368 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████                      | 378 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████▎                     | 389 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████▌                     | 399 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████▉                     | 409 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████                     | 419 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████▍                    | 430 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████▋                    | 440 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████▉                    | 450 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████▏                   | 460 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████▍                   | 471 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████▊                   | 481 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████                   | 491 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████▎                  | 501 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████▌                  | 512 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████▊                  | 522 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████                  | 532 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████▎                 | 542 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████▋                 | 552 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████▉                 | 563 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████▏                | 573 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████▍                | 583 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████▋                | 593 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████                | 604 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████▏               | 614 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████▌               | 624 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████▊               | 634 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████               | 645 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████▎              | 655 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████▌              | 665 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████▉              | 675 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████              | 686 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████▍             | 696 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████▋             | 706 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████             | 716 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████▏            | 727 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████▍            | 737 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████▊            | 747 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████            | 757 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████▎           | 768 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████▌           | 778 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████▉           | 788 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████████           | 798 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████████▎          | 808 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████████▋          | 819 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████████▉          | 829 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████▏         | 839 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████▍         | 849 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████▊         | 860 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████         | 870 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████▏        | 880 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████▌        | 890 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████▊        | 901 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████████        | 911 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████████▎       | 921 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████████▋       | 931 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████████▉       | 942 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████████████       | 952 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████████████▍      | 962 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████████████▋      | 972 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████████      | 983 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████████▏     | 993 kB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████████▌     | 1.0 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████████▊     | 1.0 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████████     | 1.0 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████████▎    | 1.0 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████████▌    | 1.0 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████████▉    | 1.1 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████████████    | 1.1 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████████████▍   | 1.1 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████████████▋   | 1.1 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████████████▉   | 1.1 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████████████████▏  | 1.1 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████████████████▍  | 1.1 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |█████████████████████████████▊  | 1.1 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████████████  | 1.1 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████████████▎ | 1.1 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████████████▌ | 1.2 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |██████████████████████████████▊ | 1.2 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████████████ | 1.2 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████████████▎| 1.2 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████████████▋| 1.2 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |███████████████████████████████▉| 1.2 MB 5.7 MB/s eta 0:00:01\r\u001b[K     |████████████████████████████████| 1.2 MB 5.7 MB/s \n","\u001b[?25hInstalling collected packages: sentencepiece\n","Successfully installed sentencepiece-0.1.96\n"]}],"source":["!pip install sentencepiece"]},{"cell_type":"code","execution_count":6,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":193648,"status":"ok","timestamp":1642645380562,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"},"user_tz":-540},"id":"1DE7HvdOMR4L","outputId":"0d43ebc1-2981-4e8f-fb26-c743c6668e51"},"outputs":[{"output_type":"stream","name":"stdout","text":["Collecting konlpy\n","  Downloading konlpy-0.6.0-py2.py3-none-any.whl (19.4 MB)\n","\u001b[K     |████████████████████████████████| 19.4 MB 1.2 MB/s \n","\u001b[?25hCollecting JPype1>=0.7.0\n","  Downloading JPype1-1.3.0-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.whl (448 kB)\n","\u001b[K     |████████████████████████████████| 448 kB 73.1 MB/s \n","\u001b[?25hRequirement already satisfied: numpy>=1.6 in /usr/local/lib/python3.7/dist-packages (from konlpy) (1.19.5)\n","Requirement already satisfied: lxml>=4.1.0 in /usr/local/lib/python3.7/dist-packages (from konlpy) (4.2.6)\n","Requirement already satisfied: typing-extensions in /usr/local/lib/python3.7/dist-packages (from JPype1>=0.7.0->konlpy) (3.10.0.2)\n","Installing collected packages: JPype1, konlpy\n","Successfully installed JPype1-1.3.0 konlpy-0.6.0\n","fatal: destination path 'Mecab-ko-for-Google-Colab' already exists and is not an empty directory.\n","/content/drive/MyDrive/NLTK/Mecab-ko-for-Google-Colab\n","Installing konlpy.....\n","Requirement already satisfied: konlpy in /usr/local/lib/python3.7/dist-packages (0.6.0)\n","Requirement already satisfied: numpy>=1.6 in /usr/local/lib/python3.7/dist-packages (from konlpy) (1.19.5)\n","Requirement already satisfied: JPype1>=0.7.0 in /usr/local/lib/python3.7/dist-packages (from konlpy) (1.3.0)\n","Requirement already satisfied: lxml>=4.1.0 in /usr/local/lib/python3.7/dist-packages (from konlpy) (4.2.6)\n","Requirement already satisfied: typing-extensions in /usr/local/lib/python3.7/dist-packages (from JPype1>=0.7.0->konlpy) (3.10.0.2)\n","Done\n","Installing mecab-0.996-ko-0.9.2.tar.gz.....\n","Downloading mecab-0.996-ko-0.9.2.tar.gz.......\n","from https://bitbucket.org/eunjeon/mecab-ko/downloads/mecab-0.996-ko-0.9.2.tar.gz\n","--2022-01-20 02:19:53--  https://bitbucket.org/eunjeon/mecab-ko/downloads/mecab-0.996-ko-0.9.2.tar.gz\n","Resolving bitbucket.org (bitbucket.org)... 104.192.141.1, 2406:da00:ff00::3403:4be7, 2406:da00:ff00::22cd:e0db, ...\n","Connecting to bitbucket.org (bitbucket.org)|104.192.141.1|:443... connected.\n","HTTP request sent, awaiting response... 302 Found\n","Location: https://bbuseruploads.s3.amazonaws.com/eunjeon/mecab-ko/downloads/mecab-0.996-ko-0.9.2.tar.gz?Signature=hJW%2Fz6cShFAfzA6EdWe%2FAzdMiYk%3D&Expires=1642646506&AWSAccessKeyId=AKIA6KOSE3BNA7WTAGHW&versionId=null&response-content-disposition=attachment%3B%20filename%3D%22mecab-0.996-ko-0.9.2.tar.gz%22&response-content-encoding=None [following]\n","--2022-01-20 02:19:53--  https://bbuseruploads.s3.amazonaws.com/eunjeon/mecab-ko/downloads/mecab-0.996-ko-0.9.2.tar.gz?Signature=hJW%2Fz6cShFAfzA6EdWe%2FAzdMiYk%3D&Expires=1642646506&AWSAccessKeyId=AKIA6KOSE3BNA7WTAGHW&versionId=null&response-content-disposition=attachment%3B%20filename%3D%22mecab-0.996-ko-0.9.2.tar.gz%22&response-content-encoding=None\n","Resolving bbuseruploads.s3.amazonaws.com (bbuseruploads.s3.amazonaws.com)... 52.217.163.249\n","Connecting to bbuseruploads.s3.amazonaws.com (bbuseruploads.s3.amazonaws.com)|52.217.163.249|:443... connected.\n","HTTP request sent, awaiting response... 200 OK\n","Length: 1414979 (1.3M) [application/x-tar]\n","Saving to: ‘mecab-0.996-ko-0.9.2.tar.gz’\n","\n","mecab-0.996-ko-0.9. 100%[===================>]   1.35M  --.-KB/s    in 0.1s    \n","\n","2022-01-20 02:19:54 (11.9 MB/s) - ‘mecab-0.996-ko-0.9.2.tar.gz’ saved [1414979/1414979]\n","\n","Done\n","Unpacking mecab-0.996-ko-0.9.2.tar.gz.......\n","Done\n","Change Directory to mecab-0.996-ko-0.9.2.......\n","installing mecab-0.996-ko-0.9.2.tar.gz........\n","configure\n","make\n","make check\n","make install\n","ldconfig\n","Done\n","Change Directory to /content\n","Downloading mecab-ko-dic-2.1.1-20180720.tar.gz.......\n","from https://bitbucket.org/eunjeon/mecab-ko-dic/downloads/mecab-ko-dic-2.1.1-20180720.tar.gz\n","--2022-01-20 02:21:06--  https://bitbucket.org/eunjeon/mecab-ko-dic/downloads/mecab-ko-dic-2.1.1-20180720.tar.gz\n","Resolving bitbucket.org (bitbucket.org)... 104.192.141.1, 2406:da00:ff00::22cd:e0db, 2406:da00:ff00::22e9:9f55, ...\n","Connecting to bitbucket.org (bitbucket.org)|104.192.141.1|:443... connected.\n","HTTP request sent, awaiting response... 302 Found\n","Location: https://bbuseruploads.s3.amazonaws.com/a4fcd83e-34f1-454e-a6ac-c242c7d434d3/downloads/b5a0c703-7b64-45ed-a2d7-180e962710b6/mecab-ko-dic-2.1.1-20180720.tar.gz?Signature=EtvnCFRTqB3T%2FLGrj0u4Dx1RB2o%3D&Expires=1642646588&AWSAccessKeyId=AKIA6KOSE3BNA7WTAGHW&versionId=tzyxc1TtnZU_zEuaaQDGN4F76hPDpyFq&response-content-disposition=attachment%3B%20filename%3D%22mecab-ko-dic-2.1.1-20180720.tar.gz%22&response-content-encoding=None [following]\n","--2022-01-20 02:21:07--  https://bbuseruploads.s3.amazonaws.com/a4fcd83e-34f1-454e-a6ac-c242c7d434d3/downloads/b5a0c703-7b64-45ed-a2d7-180e962710b6/mecab-ko-dic-2.1.1-20180720.tar.gz?Signature=EtvnCFRTqB3T%2FLGrj0u4Dx1RB2o%3D&Expires=1642646588&AWSAccessKeyId=AKIA6KOSE3BNA7WTAGHW&versionId=tzyxc1TtnZU_zEuaaQDGN4F76hPDpyFq&response-content-disposition=attachment%3B%20filename%3D%22mecab-ko-dic-2.1.1-20180720.tar.gz%22&response-content-encoding=None\n","Resolving bbuseruploads.s3.amazonaws.com (bbuseruploads.s3.amazonaws.com)... 52.217.226.169\n","Connecting to bbuseruploads.s3.amazonaws.com (bbuseruploads.s3.amazonaws.com)|52.217.226.169|:443... connected.\n","HTTP request sent, awaiting response... 200 OK\n","Length: 49775061 (47M) [application/x-tar]\n","Saving to: ‘mecab-ko-dic-2.1.1-20180720.tar.gz’\n","\n","mecab-ko-dic-2.1.1- 100%[===================>]  47.47M   101MB/s    in 0.5s    \n","\n","2022-01-20 02:21:07 (101 MB/s) - ‘mecab-ko-dic-2.1.1-20180720.tar.gz’ saved [49775061/49775061]\n","\n","Done\n","Unpacking  mecab-ko-dic-2.1.1-20180720.tar.gz.......\n","Done\n","Change Directory to mecab-ko-dic-2.1.1-20180720\n","Done\n","installing........\n","configure\n","make\n","make install\n","apt-get update\n","apt-get upgrade\n","apt install curl\n","apt install git\n","bash <(curl -s https://raw.githubusercontent.com/konlpy/konlpy/master/scripts/mecab.sh)\n","Done\n","Successfully Installed\n","Now you can use Mecab\n","from konlpy.tag import Mecab\n","mecab = Mecab()\n","사용자 사전 추가 방법 : https://bit.ly/3k0ZH53\n","NameError: name 'Tagger' is not defined 오류 발생 시 런타임을 재실행 해주세요\n","블로그에 해결 방법을 남겨주신 tana님 감사합니다.\n","/content/drive/My Drive/NLTK\n"]}],"source":["!pip install konlpy\n","!git clone https://github.com/SOMJANG/Mecab-ko-for-Google-Colab.git \n","%cd Mecab-ko-for-Google-Colab/\n","!bash install_mecab-ko_on_colab190912.sh\n","%cd ../"]},{"cell_type":"markdown","source":["## 네이버 영화리뷰 데이터 소스\n","다운로드 링크 : https://github.com/bab2min/corpus/tree/master/sentiment"],"metadata":{"id":"r2G_ggF2ef65"}},{"cell_type":"markdown","source":["# 데이터 준비"],"metadata":{"id":"O2NHhAV1qQnV"}},{"cell_type":"markdown","source":["## 데이터 및 필수 라이브러리 준비"],"metadata":{"id":"TWDevd1veqds"}},{"cell_type":"code","execution_count":7,"metadata":{"id":"6KgssBAX49Z3","executionInfo":{"status":"ok","timestamp":1642645380568,"user_tz":-540,"elapsed":288,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"outputs":[],"source":["import sentencepiece as spm\n","# import pandas as pd\n","# import urllib.request\n","import csv"]},{"cell_type":"code","source":["import pandas as pd\n","import numpy as np\n","import matplotlib.pyplot as plt\n","import re\n","import urllib.request\n","from konlpy.tag import Okt  # komlpy 설치 확인 요망\n","from tqdm import tqdm\n","from tensorflow.keras.preprocessing.text import Tokenizer\n","from tensorflow.keras.preprocessing.sequence import pad_sequences"],"metadata":{"id":"QAN4_ttHN0Qx","executionInfo":{"status":"ok","timestamp":1642645382425,"user_tz":-540,"elapsed":2131,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":8,"outputs":[]},{"cell_type":"code","source":["urllib.request.urlretrieve(\"https://raw.githubusercontent.com/e9t/nsmc/master/ratings_train.txt\", filename=\"ratings_train.txt\")\n","urllib.request.urlretrieve(\"https://raw.githubusercontent.com/e9t/nsmc/master/ratings_test.txt\", filename=\"ratings_test.txt\")"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"pN_ML9dJN8R9","executionInfo":{"status":"ok","timestamp":1642645383923,"user_tz":-540,"elapsed":1683,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"775ac6e3-1ec9-4c90-90cc-4c3f6cda2e1d"},"execution_count":9,"outputs":[{"output_type":"execute_result","data":{"text/plain":["('ratings_test.txt', <http.client.HTTPMessage at 0x7f07005eb9d0>)"]},"metadata":{},"execution_count":9}]},{"cell_type":"markdown","source":["## 훈련 데이터와 테스트 데이터 분리하기"],"metadata":{"id":"HOPGpVCKp8JE"}},{"cell_type":"code","source":["train_data = pd.read_table('ratings_train.txt')\n","test_data = pd.read_table('ratings_test.txt')"],"metadata":{"id":"5xR653FIOD7l","executionInfo":{"status":"ok","timestamp":1642645384830,"user_tz":-540,"elapsed":926,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":10,"outputs":[]},{"cell_type":"code","source":["print('훈련용 리뷰 개수 :',len(train_data)) # 훈련용 리뷰 개수 출력"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"xeLN1cQSON3U","executionInfo":{"status":"ok","timestamp":1642645384838,"user_tz":-540,"elapsed":215,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"259ae104-1746-4c77-bf80-267ba22b6b72"},"execution_count":11,"outputs":[{"output_type":"stream","name":"stdout","text":["훈련용 리뷰 개수 : 150000\n"]}]},{"cell_type":"code","source":["train_data[:5] # 상위 5개 출력"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":267},"id":"Yjl-aUqwOTV6","executionInfo":{"status":"ok","timestamp":1642645384846,"user_tz":-540,"elapsed":208,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"631ca485-5b3b-4d08-d37b-6a5f38674c15"},"execution_count":12,"outputs":[{"output_type":"execute_result","data":{"text/html":["\n","  <div id=\"df-ee3d59e3-d315-4b75-9c11-eee68b701c31\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>id</th>\n","      <th>document</th>\n","      <th>label</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>9976970</td>\n","      <td>아 더빙.. 진짜 짜증나네요 목소리</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>3819312</td>\n","      <td>흠...포스터보고 초딩영화줄....오버연기조차 가볍지 않구나</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>10265843</td>\n","      <td>너무재밓었다그래서보는것을추천한다</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>9045019</td>\n","      <td>교도소 이야기구먼 ..솔직히 재미는 없다..평점 조정</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>6483659</td>\n","      <td>사이몬페그의 익살스런 연기가 돋보였던 영화!스파이더맨에서 늙어보이기만 했던 커스틴 ...</td>\n","      <td>1</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-ee3d59e3-d315-4b75-9c11-eee68b701c31')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-ee3d59e3-d315-4b75-9c11-eee68b701c31 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-ee3d59e3-d315-4b75-9c11-eee68b701c31');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["         id                                           document  label\n","0   9976970                                아 더빙.. 진짜 짜증나네요 목소리      0\n","1   3819312                  흠...포스터보고 초딩영화줄....오버연기조차 가볍지 않구나      1\n","2  10265843                                  너무재밓었다그래서보는것을추천한다      0\n","3   9045019                      교도소 이야기구먼 ..솔직히 재미는 없다..평점 조정      0\n","4   6483659  사이몬페그의 익살스런 연기가 돋보였던 영화!스파이더맨에서 늙어보이기만 했던 커스틴 ...      1"]},"metadata":{},"execution_count":12}]},{"cell_type":"code","source":["print('테스트용 리뷰 개수 :',len(test_data)) # 테스트용 리뷰 개수 출력"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"GevRJlTUOgTK","executionInfo":{"status":"ok","timestamp":1642645384861,"user_tz":-540,"elapsed":211,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"6270e873-1026-4eb0-ca79-676e0060f03c"},"execution_count":13,"outputs":[{"output_type":"stream","name":"stdout","text":["테스트용 리뷰 개수 : 50000\n"]}]},{"cell_type":"code","source":["test_data[:5]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":267},"id":"EHWfmrb1Oj7T","executionInfo":{"status":"ok","timestamp":1642645384875,"user_tz":-540,"elapsed":206,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"22e8ceda-463a-4258-af82-37f88e0141c5"},"execution_count":14,"outputs":[{"output_type":"execute_result","data":{"text/html":["\n","  <div id=\"df-925673cc-c627-43d7-b41c-b33cfd6dde42\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>id</th>\n","      <th>document</th>\n","      <th>label</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>6270596</td>\n","      <td>굳 ㅋ</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>9274899</td>\n","      <td>GDNTOPCLASSINTHECLUB</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>8544678</td>\n","      <td>뭐야 이 평점들은.... 나쁘진 않지만 10점 짜리는 더더욱 아니잖아</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>6825595</td>\n","      <td>지루하지는 않은데 완전 막장임... 돈주고 보기에는....</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>6723715</td>\n","      <td>3D만 아니었어도 별 다섯 개 줬을텐데.. 왜 3D로 나와서 제 심기를 불편하게 하죠??</td>\n","      <td>0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-925673cc-c627-43d7-b41c-b33cfd6dde42')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-925673cc-c627-43d7-b41c-b33cfd6dde42 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-925673cc-c627-43d7-b41c-b33cfd6dde42');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["        id                                           document  label\n","0  6270596                                                굳 ㅋ      1\n","1  9274899                               GDNTOPCLASSINTHECLUB      0\n","2  8544678             뭐야 이 평점들은.... 나쁘진 않지만 10점 짜리는 더더욱 아니잖아      0\n","3  6825595                   지루하지는 않은데 완전 막장임... 돈주고 보기에는....      0\n","4  6723715  3D만 아니었어도 별 다섯 개 줬을텐데.. 왜 3D로 나와서 제 심기를 불편하게 하죠??      0"]},"metadata":{},"execution_count":14}]},{"cell_type":"markdown","source":["## 영화리뷰 데이터 탐색과 전처리"],"metadata":{"id":"V6pzDCtPoFHK"}},{"cell_type":"code","source":["# document 열과 label 열의 중복을 제외한 값의 개수\n","train_data['document'].nunique(), train_data['label'].nunique()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"E7AMxjiFOmfl","executionInfo":{"status":"ok","timestamp":1642645384899,"user_tz":-540,"elapsed":222,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"d5656087-32ad-4746-8752-78662919347e"},"execution_count":15,"outputs":[{"output_type":"execute_result","data":{"text/plain":["(146182, 2)"]},"metadata":{},"execution_count":15}]},{"cell_type":"code","source":["# document 열의 중복 제거\n","train_data.drop_duplicates(subset=['document'], inplace=True)"],"metadata":{"id":"5r39nKbgOxHP","executionInfo":{"status":"ok","timestamp":1642645384906,"user_tz":-540,"elapsed":214,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":16,"outputs":[]},{"cell_type":"code","source":["train_data['label'].value_counts().plot(kind = 'bar')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":280},"id":"1N8UPztUO5HG","executionInfo":{"status":"ok","timestamp":1642645384939,"user_tz":-540,"elapsed":243,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"286c8867-8b23-4537-bfe4-6c99e1340e0b"},"execution_count":17,"outputs":[{"output_type":"execute_result","data":{"text/plain":["<matplotlib.axes._subplots.AxesSubplot at 0x7f06fe83cfd0>"]},"metadata":{},"execution_count":17},{"output_type":"display_data","data":{"image/png":"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\n","text/plain":["<Figure size 432x288 with 1 Axes>"]},"metadata":{"needs_background":"light"}}]},{"cell_type":"code","source":["print(train_data.groupby('label').size().reset_index(name = 'count'))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Em_oN6tXO-UE","executionInfo":{"status":"ok","timestamp":1642645389520,"user_tz":-540,"elapsed":4795,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"fcfd0c0e-0efc-480f-a66f-30a326d196a7"},"execution_count":18,"outputs":[{"output_type":"stream","name":"stdout","text":["   label  count\n","0      0  73342\n","1      1  72841\n"]}]},{"cell_type":"code","source":["print(train_data.isnull().values.any())"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"SwIFwf7kPDZn","executionInfo":{"status":"ok","timestamp":1642645389527,"user_tz":-540,"elapsed":791,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"010103ea-abef-417e-9611-0f2ca25e5907"},"execution_count":19,"outputs":[{"output_type":"stream","name":"stdout","text":["True\n"]}]},{"cell_type":"code","source":["print(train_data.isnull().sum())"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"StnvMHCFPG8c","executionInfo":{"status":"ok","timestamp":1642645389611,"user_tz":-540,"elapsed":848,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"73533b19-8f51-4a72-a227-83e2ef9445d4"},"execution_count":20,"outputs":[{"output_type":"stream","name":"stdout","text":["id          0\n","document    1\n","label       0\n","dtype: int64\n"]}]},{"cell_type":"code","source":["train_data.loc[train_data.document.isnull()]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":81},"id":"EIpu6TOAPMMR","executionInfo":{"status":"ok","timestamp":1642645389622,"user_tz":-540,"elapsed":843,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"dc257e00-b882-4933-e016-a9a948e0b6db"},"execution_count":21,"outputs":[{"output_type":"execute_result","data":{"text/html":["\n","  <div id=\"df-4677e82c-2356-418e-ae0e-d1f51c4fe471\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>id</th>\n","      <th>document</th>\n","      <th>label</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>25857</th>\n","      <td>2172111</td>\n","      <td>NaN</td>\n","      <td>1</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-4677e82c-2356-418e-ae0e-d1f51c4fe471')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-4677e82c-2356-418e-ae0e-d1f51c4fe471 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-4677e82c-2356-418e-ae0e-d1f51c4fe471');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["            id document  label\n","25857  2172111      NaN      1"]},"metadata":{},"execution_count":21}]},{"cell_type":"code","source":["train_data.loc[train_data.document.isnull()]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":81},"id":"6l39OTUEPTTd","executionInfo":{"status":"ok","timestamp":1642645389628,"user_tz":-540,"elapsed":839,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"adabad29-b7d9-4659-a667-e817670b5ae6"},"execution_count":22,"outputs":[{"output_type":"execute_result","data":{"text/html":["\n","  <div id=\"df-dbf42ce4-7360-451b-9a13-a239a7440b25\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>id</th>\n","      <th>document</th>\n","      <th>label</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>25857</th>\n","      <td>2172111</td>\n","      <td>NaN</td>\n","      <td>1</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-dbf42ce4-7360-451b-9a13-a239a7440b25')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-dbf42ce4-7360-451b-9a13-a239a7440b25 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-dbf42ce4-7360-451b-9a13-a239a7440b25');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["            id document  label\n","25857  2172111      NaN      1"]},"metadata":{},"execution_count":22}]},{"cell_type":"code","source":["print(len(train_data))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"omFO1-k2PZFF","executionInfo":{"status":"ok","timestamp":1642645389634,"user_tz":-540,"elapsed":831,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"e0715930-9bb4-429e-8fc8-90090190e812"},"execution_count":23,"outputs":[{"output_type":"stream","name":"stdout","text":["146183\n"]}]},{"cell_type":"code","source":["#알파벳과 공백을 제외하고 모두 제거\n","# eng_text = 'do!!! you expect... people~ to~ read~ the FAQ, etc. and actually accept hard~! atheism?@@'\n","# print(re.sub(r'[^a-zA-Z ]', '', eng_text))"],"metadata":{"id":"uihbhRyaPf5z","executionInfo":{"status":"ok","timestamp":1642645389639,"user_tz":-540,"elapsed":784,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":24,"outputs":[]},{"cell_type":"code","source":["# 한글과 공백을 제외하고 모두 제거\n","train_data['document'] = train_data['document'].str.replace(\"[^ㄱ-ㅎㅏ-ㅣ가-힣 ]\",\"\")\n","train_data[:5]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":267},"id":"JVD27guFPoi0","executionInfo":{"status":"ok","timestamp":1642645389644,"user_tz":-540,"elapsed":786,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"7efa1cf5-2c2f-45de-e3b1-e48961a78f63"},"execution_count":25,"outputs":[{"output_type":"execute_result","data":{"text/html":["\n","  <div id=\"df-44caef83-9045-4f67-b154-075d5f851abe\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>id</th>\n","      <th>document</th>\n","      <th>label</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>9976970</td>\n","      <td>아 더빙 진짜 짜증나네요 목소리</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>3819312</td>\n","      <td>흠포스터보고 초딩영화줄오버연기조차 가볍지 않구나</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>10265843</td>\n","      <td>너무재밓었다그래서보는것을추천한다</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>9045019</td>\n","      <td>교도소 이야기구먼 솔직히 재미는 없다평점 조정</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>6483659</td>\n","      <td>사이몬페그의 익살스런 연기가 돋보였던 영화스파이더맨에서 늙어보이기만 했던 커스틴 던...</td>\n","      <td>1</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-44caef83-9045-4f67-b154-075d5f851abe')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-44caef83-9045-4f67-b154-075d5f851abe button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-44caef83-9045-4f67-b154-075d5f851abe');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["         id                                           document  label\n","0   9976970                                  아 더빙 진짜 짜증나네요 목소리      0\n","1   3819312                         흠포스터보고 초딩영화줄오버연기조차 가볍지 않구나      1\n","2  10265843                                  너무재밓었다그래서보는것을추천한다      0\n","3   9045019                          교도소 이야기구먼 솔직히 재미는 없다평점 조정      0\n","4   6483659  사이몬페그의 익살스런 연기가 돋보였던 영화스파이더맨에서 늙어보이기만 했던 커스틴 던...      1"]},"metadata":{},"execution_count":25}]},{"cell_type":"code","source":["train_data['document'] = train_data['document'].str.replace('^ +', \"\") # white space 데이터를 empty value로 변경\n","train_data['document'].replace('', np.nan, inplace=True)\n","print(train_data.isnull().sum())"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"shlthRUVPya9","executionInfo":{"status":"ok","timestamp":1642645389688,"user_tz":-540,"elapsed":816,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"fe24cf40-b11c-4cac-cde2-3467bec3c5af"},"execution_count":26,"outputs":[{"output_type":"stream","name":"stdout","text":["id            0\n","document    790\n","label         0\n","dtype: int64\n"]}]},{"cell_type":"code","source":["train_data.loc[train_data.document.isnull()][:5]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"id":"zGam8INiP5QS","executionInfo":{"status":"ok","timestamp":1642645389697,"user_tz":-540,"elapsed":725,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"3ca0db29-8b85-41cd-81bd-003e049892d0"},"execution_count":27,"outputs":[{"output_type":"execute_result","data":{"text/html":["\n","  <div id=\"df-d4cca76e-e833-4906-b4db-531f7adc8d0f\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>id</th>\n","      <th>document</th>\n","      <th>label</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>404</th>\n","      <td>4221289</td>\n","      <td>NaN</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>412</th>\n","      <td>9509970</td>\n","      <td>NaN</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>470</th>\n","      <td>10147571</td>\n","      <td>NaN</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>584</th>\n","      <td>7117896</td>\n","      <td>NaN</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>593</th>\n","      <td>6478189</td>\n","      <td>NaN</td>\n","      <td>0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-d4cca76e-e833-4906-b4db-531f7adc8d0f')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-d4cca76e-e833-4906-b4db-531f7adc8d0f button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-d4cca76e-e833-4906-b4db-531f7adc8d0f');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["           id document  label\n","404   4221289      NaN      0\n","412   9509970      NaN      1\n","470  10147571      NaN      1\n","584   7117896      NaN      0\n","593   6478189      NaN      0"]},"metadata":{},"execution_count":27}]},{"cell_type":"code","source":["train_data = train_data.dropna(how = 'any')\n","print(len(train_data))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"T27v2E-kP96-","executionInfo":{"status":"ok","timestamp":1642645389704,"user_tz":-540,"elapsed":724,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"0447a0f3-eb62-407e-a66b-bd625d158600"},"execution_count":28,"outputs":[{"output_type":"stream","name":"stdout","text":["145393\n"]}]},{"cell_type":"code","source":["test_data['document'] = test_data['document'].str.replace('^ +', \"\") # white space 데이터를 empty value로 변경\n","test_data['document'].replace('', np.nan, inplace=True)\n","print(test_data.isnull().sum())"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"h6xvbW5Twd5D","executionInfo":{"status":"ok","timestamp":1642645389712,"user_tz":-540,"elapsed":717,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"52838fb9-731d-4ec1-be1d-1132db37a3cf"},"execution_count":29,"outputs":[{"output_type":"stream","name":"stdout","text":["id          0\n","document    3\n","label       0\n","dtype: int64\n"]}]},{"cell_type":"code","source":["test_data.loc[test_data.document.isnull()][:5]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":143},"id":"Dw0hScwQwvjt","executionInfo":{"status":"ok","timestamp":1642645389718,"user_tz":-540,"elapsed":679,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"01faaf93-82e7-4d00-d688-0b69921936fe"},"execution_count":30,"outputs":[{"output_type":"execute_result","data":{"text/html":["\n","  <div id=\"df-418c00ad-c7cb-4784-a9e5-f49b7e47c5d7\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>id</th>\n","      <th>document</th>\n","      <th>label</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>5746</th>\n","      <td>402110</td>\n","      <td>NaN</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>7899</th>\n","      <td>5026896</td>\n","      <td>NaN</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>27097</th>\n","      <td>511097</td>\n","      <td>NaN</td>\n","      <td>1</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-418c00ad-c7cb-4784-a9e5-f49b7e47c5d7')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-418c00ad-c7cb-4784-a9e5-f49b7e47c5d7 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-418c00ad-c7cb-4784-a9e5-f49b7e47c5d7');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["            id document  label\n","5746    402110      NaN      1\n","7899   5026896      NaN      0\n","27097   511097      NaN      1"]},"metadata":{},"execution_count":30}]},{"cell_type":"code","source":["test_data = test_data.dropna(how = 'any')\n","print(len(test_data))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"8tCdIVeUw5E2","executionInfo":{"status":"ok","timestamp":1642645389757,"user_tz":-540,"elapsed":711,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"30103c17-938a-426d-eedb-7003d220cda9"},"execution_count":31,"outputs":[{"output_type":"stream","name":"stdout","text":["49997\n"]}]},{"cell_type":"markdown","source":["## Tokenization using Mecab"],"metadata":{"id":"xF6Ww5ojQIZA"}},{"cell_type":"code","source":["import re\n","import pandas as pd\n","import numpy as np\n","import matplotlib.pyplot as plt\n","import urllib.request\n","from collections import Counter\n","from konlpy.tag import Mecab\n","from sklearn.model_selection import train_test_split\n","from tensorflow.keras.preprocessing.text import Tokenizer\n","from tensorflow.keras.preprocessing.sequence import pad_sequences"],"metadata":{"id":"G6H7itxnUfMk","executionInfo":{"status":"ok","timestamp":1642645393001,"user_tz":-540,"elapsed":171,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":32,"outputs":[]},{"cell_type":"code","source":["mecab = Mecab()\n","print(mecab.morphs('와 이런 영화는 처음이에요 대단해요!'))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"1_-opmvHUIDj","executionInfo":{"status":"ok","timestamp":1642645393010,"user_tz":-540,"elapsed":177,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"38923046-3b33-4d91-88bb-2ebb3f5a623a"},"execution_count":33,"outputs":[{"output_type":"stream","name":"stdout","text":["['와', '이런', '영화', '는', '처음', '이', '에요', '대단', '해요', '!']\n"]}]},{"cell_type":"code","source":["stopwords = ['의','가','이','은','들','는','좀','잘','걍','과','도','를','으로','자','에','와','한','하다']\n","\n","# stopwords = ['도', '는', '다', '의', '가', '이', '은', '한', '에', '하', '고', '을', '를', '인', '듯', '과', '와', '네', '들', '듯', '지', '임', '게']"],"metadata":{"id":"dAv6ZxhCQPmz","executionInfo":{"status":"ok","timestamp":1642645393015,"user_tz":-540,"elapsed":159,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":34,"outputs":[]},{"cell_type":"code","source":["train_data['tokenized'] = train_data['document'].apply(mecab.morphs)\n","train_data['tokenized'] = train_data['tokenized'].apply(lambda x: [item for item in x if item not in stopwords])"],"metadata":{"id":"1KRk3NiKVCeu","executionInfo":{"status":"ok","timestamp":1642645398942,"user_tz":-540,"elapsed":6083,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":35,"outputs":[]},{"cell_type":"code","source":["test_data['tokenized'] = test_data['document'].apply(mecab.morphs)\n","test_data['tokenized'] = test_data['tokenized'].apply(lambda x: [item for item in x if item not in stopwords])"],"metadata":{"id":"gnqTIPD9VpW2","executionInfo":{"status":"ok","timestamp":1642645403658,"user_tz":-540,"elapsed":4852,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":36,"outputs":[]},{"cell_type":"markdown","source":["## 단어와 길이 분포 확인하기"],"metadata":{"id":"_IHiycVWxPiP"}},{"cell_type":"code","source":["negative_words = np.hstack(train_data[train_data.label == 0]['tokenized'].values)\n","positive_words = np.hstack(train_data[train_data.label == 1]['tokenized'].values)"],"metadata":{"id":"DCVTctLHVxjL","executionInfo":{"status":"ok","timestamp":1642645404757,"user_tz":-540,"elapsed":1292,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":37,"outputs":[]},{"cell_type":"code","source":["negative_word_count = Counter(negative_words)\n","print(negative_word_count.most_common(20))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Pw8mm0oMW09o","executionInfo":{"status":"ok","timestamp":1642645406002,"user_tz":-540,"elapsed":1266,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"1b523af2-04f2-4577-d2ac-f80abf7a4dc1"},"execution_count":38,"outputs":[{"output_type":"stream","name":"stdout","text":["[('다', 28578), ('영화', 27941), ('고', 24790), ('하', 24586), ('을', 13382), ('보', 12377), ('없', 10949), ('지', 10562), ('게', 9000), ('나', 7290), ('만', 7216), ('안', 6689), ('있', 6102), ('는데', 5671), ('로', 5604), ('네', 5335), ('너무', 5091), ('거', 4920), ('기', 4903), ('었', 4834)]\n"]}]},{"cell_type":"code","source":["positive_word_count = Counter(positive_words)\n","print(positive_word_count.most_common(20))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"5bsJGymVW5bt","executionInfo":{"status":"ok","timestamp":1642645406007,"user_tz":-540,"elapsed":72,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"9145a3bd-1ca7-4391-f83c-92cab8bd97a3"},"execution_count":39,"outputs":[{"output_type":"stream","name":"stdout","text":["[('영화', 29384), ('다', 25889), ('고', 22367), ('하', 19962), ('을', 16452), ('게', 13100), ('보', 13079), ('있', 10570), ('좋', 9709), ('지', 8338), ('재밌', 7353), ('었', 7326), ('봤', 6554), ('정말', 6461), ('네요', 6070), ('적', 6068), ('너무', 5894), ('최고', 5813), ('는데', 5765), ('나', 5240)]\n"]}]},{"cell_type":"code","source":["fig,(ax1,ax2) = plt.subplots(1,2,figsize=(10,5))\n","text_len = train_data[train_data['label']==1]['tokenized'].map(lambda x: len(x))\n","ax1.hist(text_len, color='red')\n","ax1.set_title('Positive Reviews')\n","ax1.set_xlabel('length of samples')\n","ax1.set_ylabel('number of samples')\n","print('긍정 리뷰의 평균 길이 :', np.mean(text_len))\n","\n","text_len = train_data[train_data['label']==0]['tokenized'].map(lambda x: len(x))\n","ax2.hist(text_len, color='blue')\n","ax2.set_title('Negative Reviews')\n","fig.suptitle('Words in texts')\n","ax2.set_xlabel('length of samples')\n","ax2.set_ylabel('number of samples')\n","print('부정 리뷰의 평균 길이 :', np.mean(text_len))\n","plt.show()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":406},"id":"EiYoKclSW-gp","executionInfo":{"status":"ok","timestamp":1642645406537,"user_tz":-540,"elapsed":571,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"132823b7-0b39-49b1-e6ca-64889ca99af5"},"execution_count":40,"outputs":[{"output_type":"stream","name":"stdout","text":["긍정 리뷰의 평균 길이 : 13.536807187284037\n","부정 리뷰의 평균 길이 : 14.060964089645825\n"]},{"output_type":"display_data","data":{"image/png":"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\n","text/plain":["<Figure size 720x360 with 2 Axes>"]},"metadata":{"needs_background":"light"}}]},{"cell_type":"markdown","source":["## 정수 인코딩"],"metadata":{"id":"TEAEPa6VXo1g"}},{"cell_type":"code","source":["X_train = train_data['tokenized'].values\n","y_train = train_data['label'].values\n","X_test= test_data['tokenized'].values\n","y_test = test_data['label'].values"],"metadata":{"id":"LNmIrY7oV0mJ","executionInfo":{"status":"ok","timestamp":1642645406544,"user_tz":-540,"elapsed":49,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":41,"outputs":[]},{"cell_type":"code","source":["tokenizer = Tokenizer()\n","tokenizer.fit_on_texts(X_train)"],"metadata":{"id":"OgkUhsorXzPe","executionInfo":{"status":"ok","timestamp":1642645407981,"user_tz":-540,"elapsed":1483,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":42,"outputs":[]},{"cell_type":"code","source":["threshold = 2\n","total_cnt = len(tokenizer.word_index) # 단어의 수\n","rare_cnt = 0 # 등장 빈도수가 threshold보다 작은 단어의 개수를 카운트\n","total_freq = 0 # 훈련 데이터의 전체 단어 빈도수 총 합\n","rare_freq = 0 # 등장 빈도수가 threshold보다 작은 단어의 등장 빈도수의 총 합\n","\n","# 단어와 빈도수의 쌍(pair)을 key와 value로 받는다.\n","for key, value in tokenizer.word_counts.items():\n","    total_freq = total_freq + value\n","\n","    # 단어의 등장 빈도수가 threshold보다 작으면\n","    if(value < threshold):\n","        rare_cnt = rare_cnt + 1\n","        rare_freq = rare_freq + value\n","\n","print('단어 집합(vocabulary)의 크기 :',total_cnt)\n","print('등장 빈도가 %s번 이하인 희귀 단어의 수: %s'%(threshold - 1, rare_cnt))\n","print(\"단어 집합에서 희귀 단어의 비율:\", (rare_cnt / total_cnt)*100)\n","print(\"전체 등장 빈도에서 희귀 단어 등장 빈도 비율:\", (rare_freq / total_freq)*100)"],"metadata":{"id":"aswOmZIWX8of","executionInfo":{"status":"ok","timestamp":1642645408021,"user_tz":-540,"elapsed":166,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"63109540-c10c-4c51-e2b7-e6f09f156078","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":43,"outputs":[{"output_type":"stream","name":"stdout","text":["단어 집합(vocabulary)의 크기 : 49946\n","등장 빈도가 1번 이하인 희귀 단어의 수: 21313\n","단어 집합에서 희귀 단어의 비율: 42.67208585272094\n","전체 등장 빈도에서 희귀 단어 등장 빈도 비율: 1.0622280323936437\n"]}]},{"cell_type":"code","source":["# 전체 단어 개수 중 빈도수 2이하인 단어 개수는 제거.\n","# 0번 패딩 토큰과 1번 OOV 토큰을 고려하여 +2\n","vocab_size = total_cnt - rare_cnt + 2\n","print('단어 집합의 크기 :',vocab_size)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"mvBTkM68amd-","executionInfo":{"status":"ok","timestamp":1642645408031,"user_tz":-540,"elapsed":154,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"113b97f2-85ad-4628-c608-a3d601e9b5a0"},"execution_count":44,"outputs":[{"output_type":"stream","name":"stdout","text":["단어 집합의 크기 : 28635\n"]}]},{"cell_type":"code","source":["tokenizer = Tokenizer(vocab_size, oov_token = 'OOV') \n","tokenizer.fit_on_texts(X_train)\n","X_train = tokenizer.texts_to_sequences(X_train)\n","X_test = tokenizer.texts_to_sequences(X_test)"],"metadata":{"id":"MKZfRTnla0S1","executionInfo":{"status":"ok","timestamp":1642645411135,"user_tz":-540,"elapsed":3242,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":45,"outputs":[]},{"cell_type":"code","source":["print(X_train[:3])"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"zLfDwHZybADP","executionInfo":{"status":"ok","timestamp":1642645411140,"user_tz":-540,"elapsed":181,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"3d0d4316-2291-4877-e0b0-697c4c106d2d"},"execution_count":46,"outputs":[{"output_type":"stream","name":"stdout","text":["[[25, 65, 893, 31, 212, 13, 26, 697], [975, 479, 489, 634, 2, 108, 1552, 46, 862, 947, 9, 36, 362], [17, 190, 1]]\n"]}]},{"cell_type":"code","source":["print(X_test[:3])"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"2NNbotajbExZ","executionInfo":{"status":"ok","timestamp":1642645411146,"user_tz":-540,"elapsed":176,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"0f956060-1378-42bf-bb65-9b36522122c3"},"execution_count":47,"outputs":[{"output_type":"stream","name":"stdout","text":["[[786, 126], [1], [75, 106, 50, 1, 1, 896, 312, 36, 29, 1, 37, 595, 3399, 62, 853]]\n"]}]},{"cell_type":"markdown","source":["## 패딩"],"metadata":{"id":"fJOfVwpubMxO"}},{"cell_type":"code","source":["print('리뷰의 최대 길이 :',max(len(review) for review in X_train))\n","print('리뷰의 평균 길이 :',sum(map(len, X_train))/len(X_train))\n","plt.hist([len(review) for review in X_train], bins=50)\n","plt.xlabel('length of samples')\n","plt.ylabel('number of samples')\n","plt.show()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":318},"id":"PhYXZgJ9bYpB","executionInfo":{"status":"ok","timestamp":1642645411633,"user_tz":-540,"elapsed":645,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"b08480f5-fe84-4911-b104-9c0dc1b31d3f"},"execution_count":48,"outputs":[{"output_type":"stream","name":"stdout","text":["리뷰의 최대 길이 : 83\n","리뷰의 평균 길이 : 13.800134807040228\n"]},{"output_type":"display_data","data":{"image/png":"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\n","text/plain":["<Figure size 432x288 with 1 Axes>"]},"metadata":{"needs_background":"light"}}]},{"cell_type":"code","source":["def below_threshold_len(max_len, nested_list):\n","  count = 0\n","  for sentence in nested_list:\n","    if(len(sentence) <= max_len):\n","        count = count + 1\n","  print('전체 샘플 중 길이가 %s 이하인 샘플의 비율: %s'%(max_len, (count / len(nested_list))*100))"],"metadata":{"id":"sdG20BuZbjn4","executionInfo":{"status":"ok","timestamp":1642645411650,"user_tz":-540,"elapsed":79,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":49,"outputs":[]},{"cell_type":"code","source":["max_len = 80\n","below_threshold_len(max_len, X_train)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"wPBKkZKTbrgh","executionInfo":{"status":"ok","timestamp":1642645411662,"user_tz":-540,"elapsed":89,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"9eeefbfc-2780-4511-8692-3db1a8befaab"},"execution_count":50,"outputs":[{"output_type":"stream","name":"stdout","text":["전체 샘플 중 길이가 80 이하인 샘플의 비율: 99.9972488359137\n"]}]},{"cell_type":"code","source":["X_train = pad_sequences(X_train, maxlen=max_len)\n","X_test = pad_sequences(X_test, maxlen=max_len)"],"metadata":{"id":"KNl4C_pJb3oL","executionInfo":{"status":"ok","timestamp":1642645413007,"user_tz":-540,"elapsed":1419,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":51,"outputs":[]},{"cell_type":"markdown","source":["# 모델 성능 확인 "],"metadata":{"id":"K-J3vc46qcMx"}},{"cell_type":"markdown","source":["## mecab using GRU"],"metadata":{"id":"SJ9mMlh9cGUi"}},{"cell_type":"code","source":["from tensorflow.keras.layers import Embedding, Dense, GRU\n","from tensorflow.keras.models import Sequential\n","from tensorflow.keras.models import load_model\n","from tensorflow.keras.callbacks import EarlyStopping, ModelCheckpoint\n","\n","embedding_dim = 100\n","hidden_units = 128\n","\n","model = Sequential()\n","model.add(Embedding(vocab_size, embedding_dim))\n","model.add(GRU(hidden_units))\n","model.add(Dense(1, activation='sigmoid'))\n","\n","es = EarlyStopping(monitor='val_loss', mode='min', verbose=1, patience=4)\n","mc = ModelCheckpoint('best_model.h5', monitor='val_acc', mode='max', verbose=1, save_best_only=True)\n","\n","model.compile(optimizer='rmsprop', loss='binary_crossentropy', metrics=['acc'])\n","history = model.fit(X_train, y_train, epochs=15, callbacks=[es, mc], batch_size=64, validation_split=0.2)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"mBWVwbbgcFMq","executionInfo":{"status":"ok","timestamp":1642645559487,"user_tz":-540,"elapsed":146496,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"32553672-9e2f-4b6b-c90f-154a12e0434e"},"execution_count":52,"outputs":[{"output_type":"stream","name":"stdout","text":["Epoch 1/15\n","1812/1818 [============================>.] - ETA: 0s - loss: 0.3903 - acc: 0.8253\n","Epoch 00001: val_acc improved from -inf to 0.84642, saving model to best_model.h5\n","1818/1818 [==============================] - 23s 10ms/step - loss: 0.3901 - acc: 0.8254 - val_loss: 0.3480 - val_acc: 0.8464\n","Epoch 2/15\n","1816/1818 [============================>.] - ETA: 0s - loss: 0.3174 - acc: 0.8640\n","Epoch 00002: val_acc improved from 0.84642 to 0.85907, saving model to best_model.h5\n","1818/1818 [==============================] - 17s 10ms/step - loss: 0.3173 - acc: 0.8639 - val_loss: 0.3277 - val_acc: 0.8591\n","Epoch 3/15\n","1815/1818 [============================>.] - ETA: 0s - loss: 0.2888 - acc: 0.8787\n","Epoch 00003: val_acc improved from 0.85907 to 0.86423, saving model to best_model.h5\n","1818/1818 [==============================] - 17s 9ms/step - loss: 0.2887 - acc: 0.8787 - val_loss: 0.3152 - val_acc: 0.8642\n","Epoch 4/15\n","1815/1818 [============================>.] - ETA: 0s - loss: 0.2660 - acc: 0.8912\n","Epoch 00004: val_acc improved from 0.86423 to 0.86464, saving model to best_model.h5\n","1818/1818 [==============================] - 17s 9ms/step - loss: 0.2661 - acc: 0.8912 - val_loss: 0.3147 - val_acc: 0.8646\n","Epoch 5/15\n","1814/1818 [============================>.] - ETA: 0s - loss: 0.2454 - acc: 0.9010\n","Epoch 00005: val_acc did not improve from 0.86464\n","1818/1818 [==============================] - 18s 10ms/step - loss: 0.2454 - acc: 0.9010 - val_loss: 0.3227 - val_acc: 0.8640\n","Epoch 6/15\n","1816/1818 [============================>.] - ETA: 0s - loss: 0.2273 - acc: 0.9101\n","Epoch 00006: val_acc did not improve from 0.86464\n","1818/1818 [==============================] - 17s 10ms/step - loss: 0.2273 - acc: 0.9101 - val_loss: 0.3249 - val_acc: 0.8639\n","Epoch 7/15\n","1815/1818 [============================>.] - ETA: 0s - loss: 0.2096 - acc: 0.9182\n","Epoch 00007: val_acc did not improve from 0.86464\n","1818/1818 [==============================] - 17s 9ms/step - loss: 0.2096 - acc: 0.9182 - val_loss: 0.3378 - val_acc: 0.8604\n","Epoch 8/15\n","1816/1818 [============================>.] - ETA: 0s - loss: 0.1927 - acc: 0.9255\n","Epoch 00008: val_acc did not improve from 0.86464\n","1818/1818 [==============================] - 17s 9ms/step - loss: 0.1928 - acc: 0.9255 - val_loss: 0.3442 - val_acc: 0.8585\n","Epoch 00008: early stopping\n"]}]},{"cell_type":"code","source":["loaded_model = load_model('best_model.h5')\n","print(\"\\n 테스트 정확도: %.4f\" % (loaded_model.evaluate(X_test, y_test)[1]))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"tbHUwJaDc4yR","executionInfo":{"status":"ok","timestamp":1642645630175,"user_tz":-540,"elapsed":70753,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"0ea64da9-962c-4c40-f918-5f7a762e97f1"},"execution_count":53,"outputs":[{"output_type":"stream","name":"stdout","text":["1563/1563 [==============================] - 6s 4ms/step - loss: 0.3229 - acc: 0.8594\n","\n"," 테스트 정확도: 0.8594\n"]}]},{"cell_type":"markdown","source":["# 모델성능 비교"],"metadata":{"id":"9hcyHI5kZA7C"}},{"cell_type":"markdown","source":["## ROC curve by mecab"],"metadata":{"id":"vYyRjORxQ_23"}},{"cell_type":"code","source":["from sklearn.metrics import roc_curve\n","y_pred_keras = model.predict(X_test).ravel()\n","fpr_keras, tpr_keras, thresholds_keras = roc_curve(y_test, y_pred_keras)"],"metadata":{"id":"H0vjVr0h5wu_","executionInfo":{"status":"ok","timestamp":1642645635767,"user_tz":-540,"elapsed":5835,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":54,"outputs":[]},{"cell_type":"code","source":["from sklearn.metrics import auc\n","auc_keras = auc(fpr_keras, tpr_keras)"],"metadata":{"id":"JnHlTYTSBV26","executionInfo":{"status":"ok","timestamp":1642645635778,"user_tz":-540,"elapsed":342,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":55,"outputs":[]},{"cell_type":"code","source":["plt.figure(1)\n","plt.plot([0, 1], [0, 1], 'k--')\n","plt.plot(fpr_keras, tpr_keras, label='mecab (area = {:.3f})'.format(auc_keras))\n","# plt.plot(fpr_rf, tpr_rf, label='RF (area = {:.3f})'.format(auc_rf))\n","plt.xlabel('False positive rate')\n","plt.ylabel('True positive rate')\n","plt.title('ROC curve')\n","plt.legend(loc='best')\n","plt.show()\n","# Zoom in view of the upper left corner.\n","# plt.figure(2)\n","# plt.xlim(0, 0.2)\n","# plt.ylim(0.8, 1)\n","# plt.plot([0, 1], [0, 1], 'k--')\n","# plt.plot(fpr_keras, tpr_keras, label='Keras (area = {:.3f})'.format(auc_keras))\n","# plt.plot(fpr_rf, tpr_rf, label='RF (area = {:.3f})'.format(auc_rf))\n","# plt.xlabel('False positive rate')\n","# plt.ylabel('True positive rate')\n","# plt.title('ROC curve (zoomed in at top left)')\n","# plt.legend(loc='best')\n","# plt.show()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":295},"id":"apF1wHKD55Wr","executionInfo":{"status":"ok","timestamp":1642645635787,"user_tz":-540,"elapsed":347,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"06c42ba3-fdbb-4c1d-dcd2-05d26fdeb4ed"},"execution_count":56,"outputs":[{"output_type":"display_data","data":{"image/png":"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\n","text/plain":["<Figure size 432x288 with 1 Axes>"]},"metadata":{"needs_background":"light"}}]},{"cell_type":"markdown","source":["## ROC curve by sentencepiece"],"metadata":{"id":"XFPcRvsuRPMn"}},{"cell_type":"markdown","source":["![image.png](data:image/png;base64,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)"],"metadata":{"id":"F7j6ou_vRYAq"}},{"cell_type":"markdown","source":["# Summary\n","\n","## 1. mecab 와 sentencepiece 형태소 분석기를 사용하여 네이버 영화리뷰 내용을 분석\n","\n","## 2. 각각의 모델 성능을 ROC 커브를 계산하여 비교\n","- ## mecab: area = 0.932\n","- ## sentencepiece area = 0.878\n","\n","\n"],"metadata":{"id":"nXgbDFkBUeM1"}},{"cell_type":"markdown","source":["# 첨부. 리뷰 예측해 보기"],"metadata":{"id":"Q-cr3dEWdrYc"}},{"cell_type":"code","source":["def sentiment_predict(new_sentence):\n","  new_sentence = re.sub(r'[^ㄱ-ㅎㅏ-ㅣ가-힣 ]','', new_sentence)\n","  new_sentence = mecab.morphs(new_sentence)\n","  new_sentence = [word for word in new_sentence if not word in stopwords]\n","  encoded = tokenizer.texts_to_sequences([new_sentence])\n","  pad_new = pad_sequences(encoded, maxlen = max_len)\n","\n","  score = float(loaded_model.predict(pad_new))\n","  if(score > 0.5):\n","    print(f\"{score * 100:.2f}% 확률로 긍정 리뷰입니다.\")\n","  else:\n","    print(f\"{score * 100:.2f}% 확률로 부정 리뷰입니다.\")"],"metadata":{"id":"xwk_7EeFdqQz","executionInfo":{"status":"ok","timestamp":1642645635798,"user_tz":-540,"elapsed":345,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}}},"execution_count":57,"outputs":[]},{"cell_type":"code","source":["input_text = input(f'여기에 텍스트를 입력하세요:')\n","sentiment_predict(input_text)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Df_GNtGfZmYl","executionInfo":{"status":"ok","timestamp":1642647451334,"user_tz":-540,"elapsed":7841,"user":{"displayName":"happygiver","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GiCd0tmLEpm8UC5LVNKlEc0gEtKzvvnSM5F7uPAbA=s64","userId":"11981989157135549697"}},"outputId":"4d85ae6c-5843-4daf-fc61-41840b7cbf76"},"execution_count":67,"outputs":[{"output_type":"stream","name":"stdout","text":["여기에 텍스트를 입력하세요:놀랍습니다\n","83.79% 확률로 긍정 리뷰입니다.\n"]}]}],"metadata":{"accelerator":"GPU","colab":{"name":"naver movie review sentiment analysis by mecab N SP.ipynb","provenance":[{"file_id":"1PuChxJ8AvyopQ23G1mnrA_slG5LfQsSx","timestamp":1642559346968}],"collapsed_sections":[],"toc_visible":true},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}
